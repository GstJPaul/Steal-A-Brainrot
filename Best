-- GstJPaul Script with Follow/Group Verification
-- Created for SubToGstJPaul

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Configuration
local CREATOR_USER_ID = 2424638842 -- Your Roblox User ID
local GROUP_ID = 35546246 -- Your Group ID
local SCRIPT_NAME = "GstJPaul Hub"

-- Variables
local mainFrame = nil
local scriptFrame = nil
local minimizedFrame = nil
local isVerified = false
local clickCount = 0
local isDragging = false

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GstJPaulHub"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false

-- Function to check if player is following the creator
local function checkFollowing()
    local success, result = pcall(function()
        local url = "https://friends.roblox.com/v1/users/" .. player.UserId .. "/friends/statuses?userIds=" .. CREATOR_USER_ID
        return HttpService:GetAsync(url)
    end)
    
    if success then
        local data = HttpService:JSONDecode(result)
        if data and data.data and data.data[1] then
            return data.data[1].status == "Following" or data.data[1].status == "Friends"
        end
    end
    return false
end

-- Function to check if player is in the group
local function checkGroupMembership()
    local success, result = pcall(function()
        local url = "https://groups.roblox.com/v1/users/" .. player.UserId .. "/groups/roles"
        return HttpService:GetAsync(url)
    end)
    
    if success then
        local data = HttpService:JSONDecode(result)
        if data and data.data then
            for _, group in pairs(data.data) do
                if group.group and group.group.id == GROUP_ID then
                    return true
                end
            end
        end
    end
    return false
end

-- Alternative verification method using Roblox API
local function alternativeVerification()
    local isFollowing = false
    local isInGroup = false
    
    -- Check group membership using GroupService
    pcall(function()
        local groupInfo = game:GetService("GroupService"):GetGroupInfoAsync(GROUP_ID)
        if groupInfo then
            isInGroup = player:IsInGroup(GROUP_ID)
        end
    end)
    
    -- For following, we'll use a different approach
    pcall(function()
        local userId = player.UserId
        local creatorId = CREATOR_USER_ID
        
        -- This is a simplified check - in a real scenario you'd need proper API access
        -- For now, we'll assume following if they're friends or use group membership as indicator
        if isInGroup then
            isFollowing = true -- Assume they're following if they joined the group
        end
    end)
    
    return isFollowing, isInGroup
end

-- Function to perform verification
local function performVerification()
    local isFollowing, isInGroup = alternativeVerification()
    
    if isFollowing and isInGroup then
        return true, "Verification successful!"
    elseif not isFollowing and not isInGroup then
        return false, "Please follow the profile AND join the group"
    elseif not isFollowing then
        return false, "Please follow the profile"
    else
        return false, "Please join the group"
    end
end

-- Create main verification interface
local function createMainInterface()
    mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Size = UDim2.new(0, 400, 0, 500)
    mainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
    mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = screenGui
    
    -- Add corner radius
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 15)
    corner.Parent = mainFrame
    
    -- Title
    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Size = UDim2.new(1, 0, 0, 50)
    title.Position = UDim2.new(0, 0, 0, 10)
    title.BackgroundTransparency = 1
    title.Text = "Follow and Join Group to Open Script"
    title.TextColor3 = Color3.fromRGB(0, 255, 136)
    title.TextScaled = true
    title.Font = Enum.Font.GothamBold
    title.Parent = mainFrame
    
    -- Avatar frame
    local avatarFrame = Instance.new("Frame")
    avatarFrame.Size = UDim2.new(0, 100, 0, 100)
    avatarFrame.Position = UDim2.new(0.5, -50, 0, 70)
    avatarFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    avatarFrame.BorderSizePixel = 0
    avatarFrame.Parent = mainFrame
    
    local avatarCorner = Instance.new("UICorner")
    avatarCorner.CornerRadius = UDim.new(0.5, 0)
    avatarCorner.Parent = avatarFrame
    
    -- Avatar image
    local avatarImage = Instance.new("ImageLabel")
    avatarImage.Size = UDim2.new(1, -6, 1, -6)
    avatarImage.Position = UDim2.new(0, 3, 0, 3)
    avatarImage.BackgroundTransparency = 1
    avatarImage.Image = "https://tr.rbxcdn.com/30DAY-AvatarHeadshot-0E60DFB7A4326F6293177FA60D62596A-Png/150/150/AvatarHeadshot/Webp/noFilter"
    avatarImage.Parent = avatarFrame
    
    local avatarImageCorner = Instance.new("UICorner")
    avatarImageCorner.CornerRadius = UDim.new(0.5, 0)
    avatarImageCorner.Parent = avatarImage
    
    -- Username label
    local usernameLabel = Instance.new("TextLabel")
    usernameLabel.Size = UDim2.new(0, 300, 0, 30)
    usernameLabel.Position = UDim2.new(0.5, -150, 0, 180)
    usernameLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    usernameLabel.Text = "SubToGstJPaul"
    usernameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    usernameLabel.TextScaled = true
    usernameLabel.Font = Enum.Font.Gotham
    usernameLabel.Parent = mainFrame
    
    local usernameCorner = Instance.new("UICorner")
    usernameCorner.CornerRadius = UDim.new(0, 8)
    usernameCorner.Parent = usernameLabel
    
    -- Copy username button
    local copyButton = Instance.new("TextButton")
    copyButton.Size = UDim2.new(0, 300, 0, 40)
    copyButton.Position = UDim2.new(0.5, -150, 0, 220)
    copyButton.BackgroundColor3 = Color3.fromRGB(0, 123, 255)
    copyButton.Text = "Copy Username"
    copyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    copyButton.TextScaled = true
    copyButton.Font = Enum.Font.GothamBold
    copyButton.Parent = mainFrame
    
    local copyCorner = Instance.new("UICorner")
    copyCorner.CornerRadius = UDim.new(0, 8)
    copyCorner.Parent = copyButton
    
    -- Verification section
    local verifyFrame = Instance.new("Frame")
    verifyFrame.Size = UDim2.new(0, 350, 0, 80)
    verifyFrame.Position = UDim2.new(0.5, -175, 0, 270)
    verifyFrame.BackgroundColor3 = Color3.fromRGB(255, 165, 0, 0.1)
    verifyFrame.BorderColor3 = Color3.fromRGB(255, 165, 0)
    verifyFrame.BorderSizePixel = 1
    verifyFrame.Parent = mainFrame
    
    local verifyCorner = Instance.new("UICorner")
    verifyCorner.CornerRadius = UDim.new(0, 8)
    verifyCorner.Parent = verifyFrame
    
    local verifyText = Instance.new("TextLabel")
    verifyText.Size = UDim2.new(1, 0, 0, 25)
    verifyText.Position = UDim2.new(0, 0, 0, 5)
    verifyText.BackgroundTransparency = 1
    verifyText.Text = "Please complete verification:"
    verifyText.TextColor3 = Color3.fromRGB(255, 165, 0)
    verifyText.TextScaled = true
    verifyText.Font = Enum.Font.Gotham
    verifyText.Parent = verifyFrame
    
    local profileLink = Instance.new("TextLabel")
    profileLink.Size = UDim2.new(0.5, -5, 0, 25)
    profileLink.Position = UDim2.new(0, 0, 0, 30)
    profileLink.BackgroundColor3 = Color3.fromRGB(0, 191, 255, 0.1)
    profileLink.Text = "1. Follow Profile"
    profileLink.TextColor3 = Color3.fromRGB(0, 191, 255)
    profileLink.TextScaled = true
    profileLink.Font = Enum.Font.Gotham
    profileLink.Parent = verifyFrame
    
    local groupLink = Instance.new("TextLabel")
    groupLink.Size = UDim2.new(0.5, -5, 0, 25)
    groupLink.Position = UDim2.new(0.5, 5, 0, 30)
    groupLink.BackgroundColor3 = Color3.fromRGB(0, 191, 255, 0.1)
    groupLink.Text = "2. Join Group"
    groupLink.TextColor3 = Color3.fromRGB(0, 191, 255)
    groupLink.TextScaled = true
    groupLink.Font = Enum.Font.Gotham
    groupLink.Parent = verifyFrame
    
    -- Status display
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Name = "StatusLabel"
    statusLabel.Size = UDim2.new(0, 350, 0, 30)
    statusLabel.Position = UDim2.new(0.5, -175, 0, 360)
    statusLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    statusLabel.Text = "Complete verification to continue"
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    statusLabel.TextScaled = true
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.Parent = mainFrame
    
    local statusCorner = Instance.new("UICorner")
    statusCorner.CornerRadius = UDim.new(0, 8)
    statusCorner.Parent = statusLabel
    
    -- Progress bar
    local progressBG = Instance.new("Frame")
    progressBG.Size = UDim2.new(0, 350, 0, 6)
    progressBG.Position = UDim2.new(0.5, -175, 0, 400)
    progressBG.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    progressBG.BorderSizePixel = 0
    progressBG.Parent = mainFrame
    
    local progressCorner = Instance.new("UICorner")
    progressCorner.CornerRadius = UDim.new(0, 3)
    progressCorner.Parent = progressBG
    
    local progressBar = Instance.new("Frame")
    progressBar.Name = "ProgressBar"
    progressBar.Size = UDim2.new(0, 0, 1, 0)
    progressBar.Position = UDim2.new(0, 0, 0, 0)
    progressBar.BackgroundColor3 = Color3.fromRGB(0, 255, 136)
    progressBar.BorderSizePixel = 0
    progressBar.Parent = progressBG
    
    local progressFillCorner = Instance.new("UICorner")
    progressFillCorner.CornerRadius = UDim.new(0, 3)
    progressFillCorner.Parent = progressBar
    
    -- Open script button
    local openButton = Instance.new("TextButton")
    openButton.Name = "OpenButton"
    openButton.Size = UDim2.new(0, 300, 0, 50)
    openButton.Position = UDim2.new(0.5, -150, 0, 420)
    openButton.BackgroundColor3 = Color3.fromRGB(40, 167, 69)
    openButton.Text = "Open Script"
    openButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    openButton.TextScaled = true
    openButton.Font = Enum.Font.GothamBold
    openButton.Parent = mainFrame
    
    local openCorner = Instance.new("UICorner")
    openCorner.CornerRadius = UDim.new(0, 8)
    openCorner.Parent = openButton
    
    -- Copy button functionality
    copyButton.MouseButton1Click:Connect(function()
        setclipboard("SubToGstJPaul")
        copyButton.Text = "Copied!"
        copyButton.BackgroundColor3 = Color3.fromRGB(40, 167, 69)
        wait(2)
        copyButton.Text = "Copy Username"
        copyButton.BackgroundColor3 = Color3.fromRGB(0, 123, 255)
    end)
    
    -- Open script button functionality
    openButton.MouseButton1Click:Connect(function()
        clickCount = clickCount + 1
        local statusLabel = mainFrame:FindFirstChild("StatusLabel")
        local progressBar = mainFrame:FindFirstChild("ProgressBar")
        
        if clickCount <= 2 then
            statusLabel.Text = "Checking... (" .. clickCount .. "/3)"
            progressBar.Size = UDim2.new(clickCount * 0.2, 0, 1, 0)
        elseif clickCount == 3 then
            statusLabel.Text = "Checking verification..."
            progressBar.Size = UDim2.new(0.6, 0, 1, 0)
            openButton.Text = "Verifying..."
            openButton.BackgroundColor3 = Color3.fromRGB(108, 117, 125)
            
            wait(2)
            
            local verified, message = performVerification()
            
            if verified then
                statusLabel.Text = "Verification successful!"
                statusLabel.TextColor3 = Color3.fromRGB(0, 255, 136)
                progressBar.Size = UDim2.new(1, 0, 1, 0)
                openButton.Text = "Opening Script..."
                wait(1)
                openScriptInterface()
            else
                statusLabel.Text = message
                statusLabel.TextColor3 = Color3.fromRGB(255, 99, 71)
                openButton.Text = "Open Script"
                openButton.BackgroundColor3 = Color3.fromRGB(40, 167, 69)
                clickCount = 0
                progressBar.Size = UDim2.new(0, 0, 1, 0)
            end
        end
    end)
end

-- Create script interface
local function createScriptInterface()
    scriptFrame = Instance.new("Frame")
    scriptFrame.Name = "ScriptFrame"
    scriptFrame.Size = UDim2.new(0, 450, 0, 350)
    scriptFrame.Position = UDim2.new(0.5, -225, 0.5, -175)
    scriptFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    scriptFrame.BorderSizePixel = 0
    scriptFrame.Parent = screenGui
    scriptFrame.Visible = false
    
    local scriptCorner = Instance.new("UICorner")
    scriptCorner.CornerRadius = UDim.new(0, 15)
    scriptCorner.Parent = scriptFrame
    
    -- Make draggable
    local dragToggle = nil
    local dragSpeed = 0.25
    local dragStart = nil
    local startPos = nil
    
    local function updateInput(input)
        local delta = input.Position - dragStart
        local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                   startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        TweenService:Create(scriptFrame, TweenInfo.new(dragSpeed), {Position = position}):Play()
    end
    
    scriptFrame.InputBegan:Connect(function(input)
        if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) then
            dragToggle = true
            dragStart = input.Position
            startPos = scriptFrame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragToggle = false
                end
            end)
        end
    end)
    
    scriptFrame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            if dragToggle then
                updateInput(input)
            end
        end
    end)
    
    -- Close button
    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -40, 0, 10)
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 68, 68)
    closeButton.Text = "Ã—"
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.TextScaled = true
    closeButton.Font = Enum.Font.GothamBold
    closeButton.Parent = scriptFrame
    
    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0.5, 0)
    closeCorner.Parent = closeButton
    
    -- Title
    local scriptTitle = Instance.new("TextLabel")
    scriptTitle.Size = UDim2.new(1, -50, 0, 40)
    scriptTitle.Position = UDim2.new(0, 0, 0, 10)
    scriptTitle.BackgroundTransparency = 1
    scriptTitle.Text = "Steal A Brainrot | Makai Hub"
    scriptTitle.TextColor3 = Color3.fromRGB(0, 255, 136)
    scriptTitle.TextScaled = true
    scriptTitle.Font = Enum.Font.GothamBold
    scriptTitle.Parent = scriptFrame
    
    -- Visuals section
    local visualsLabel = Instance.new("TextLabel")
    visualsLabel.Size = UDim2.new(1, 0, 0, 30)
    visualsLabel.Position = UDim2.new(0, 20, 0, 60)
    visualsLabel.BackgroundTransparency = 1
    visualsLabel.Text = "Visuals"
    visualsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    visualsLabel.TextScaled = true
    visualsLabel.Font = Enum.Font.Gotham
    visualsLabel.TextXAlignment = Enum.TextXAlignment.Left
    visualsLabel.Parent = scriptFrame
    
    -- Toggle switches
    local function createToggle(name, yPos)
        local toggleFrame = Instance.new("Frame")
        toggleFrame.Size = UDim2.new(1, -40, 0, 35)
        toggleFrame.Position = UDim2.new(0, 20, 0, yPos)
        toggleFrame.BackgroundTransparency = 1
        toggleFrame.Parent = scriptFrame
        
        local toggleLabel = Instance.new("TextLabel")
        toggleLabel.Size = UDim2.new(0.7, 0, 1, 0)
        toggleLabel.Position = UDim2.new(0, 0, 0, 0)
        toggleLabel.BackgroundTransparency = 1
        toggleLabel.Text = name
        toggleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        toggleLabel.TextScaled = true
        toggleLabel.Font = Enum.Font.Gotham
        toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
        toggleLabel.Parent = toggleFrame
        
        local toggleButton = Instance.new("TextButton")
        toggleButton.Size = UDim2.new(0, 50, 0, 25)
        toggleButton.Position = UDim2.new(1, -60, 0.5, -12.5)
        toggleButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
        toggleButton.Text = ""
        toggleButton.Parent = toggleFrame
        
        local toggleCorner = Instance.new("UICorner")
        toggleCorner.CornerRadius = UDim.new(0.5, 0)
        toggleCorner.Parent = toggleButton
        
        local toggleCircle = Instance.new("Frame")
        toggleCircle.Size = UDim2.new(0, 20, 0, 20)
        toggleCircle.Position = UDim2.new(0, 2.5, 0.5, -10)
        toggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        toggleCircle.BorderSizePixel = 0
        toggleCircle.Parent = toggleButton
        
        local circleCorner = Instance.new("UICorner")
        circleCorner.CornerRadius = UDim.new(0.5, 0)
        circleCorner.Parent = toggleCircle
        
        local isOn = false
        
        toggleButton.MouseButton1Click:Connect(function()
            isOn = not isOn
            if isOn then
                toggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 136)
                TweenService:Create(toggleCircle, TweenInfo.new(0.2), {Position = UDim2.new(0, 27.5, 0.5, -10)}):Play()
            else
                toggleButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
                TweenService:Create(toggleCircle, TweenInfo.new(0.2), {Position = UDim2.new(0, 2.5, 0.5, -10)}):Play()
            end
        end)
    end
    
    createToggle("Player ESP", 95)
    createToggle("Plot ESP", 135)
    
    -- Self Modification section
    local selfModLabel = Instance.new("TextLabel")
    selfModLabel.Size = UDim2.new(1, 0, 0, 30)
    selfModLabel.Position = UDim2.new(0, 20, 0, 180)
    selfModLabel.BackgroundTransparency = 1
    selfModLabel.Text = "Self Modification"
    selfModLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    selfModLabel.TextScaled = true
    selfModLabel.Font = Enum.Font.Gotham
    selfModLabel.TextXAlignment = Enum.TextXAlignment.Left
    selfModLabel.Parent = scriptFrame
    
    createToggle("Anti Ragdoll", 215)
    createToggle("God Mode", 255)
    
    -- Close button functionality
    closeButton.MouseButton1Click:Connect(function()
        scriptFrame.Visible = false
        createMinimizedBox()
    end)
end

-- Create minimized box
local function createMinimizedBox()
    minimizedFrame = Instance.new("Frame")
    minimizedFrame.Size = UDim2.new(0, 60, 0, 60)
    minimizedFrame.Position = UDim2.new(1, -80, 0, 20)
    minimizedFrame.BackgroundColor3 = Color3.fromRGB(255, 20, 147)
    minimizedFrame.BorderSizePixel = 0
    minimizedFrame.Parent = screenGui
    
    local minimizedCorner = Instance.new("UICorner")
    minimizedCorner.CornerRadius = UDim.new(0, 12)
    minimizedCorner.Parent = minimizedFrame
    
    local kLabel = Instance.new("TextLabel")
    kLabel.Size = UDim2.new(1, 0, 1, 0)
    kLabel.Position = UDim2.new(0, 0, 0, 0)
    kLabel.BackgroundTransparency = 1
    kLabel.Text = "K"
    kLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    kLabel.TextScaled = true
    kLabel.Font = Enum.Font.GothamBold
    kLabel.Parent = minimizedFrame
    
    local minimizedButton = Instance.new("TextButton")
    minimizedButton.Size = UDim2.new(1, 0, 1, 0)
    minimizedButton.Position = UDim2.new(0, 0, 0, 0)
    minimizedButton.BackgroundTransparency = 1
    minimizedButton.Text = ""
    minimizedButton.Parent = minimizedFrame
    
    minimizedButton.MouseButton1Click:Connect(function()
        minimizedFrame:Destroy()
        scriptFrame.Visible = true
    end)
end

-- Function to open script interface
function openScriptInterface()
    mainFrame.Visible = false
    scriptFrame.Visible = true
end

-- Initialize
createMainInterface()
createScriptInterface()

-- Notification
local function createNotification()
    local notif = Instance.new("Frame")
    notif.Size = UDim2.new(0, 300, 0, 80)
    notif.Position = UDim2.new(1, -320, 0, 20)
    notif.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    notif.BorderSizePixel = 0
    notif.Parent = screenGui
    
    local notifCorner = Instance.new("UICorner")
    notifCorner.CornerRadius = UDim.new(0, 10)
    notifCorner.Parent = notif
    
    local notifText = Instance.new("TextLabel")
    notifText.Size = UDim2.new(1, -20, 1, 0)
    notifText.Position = UDim2.new(0, 10, 0, 0)
    notifText.BackgroundTransparency = 1
    notifText.Text = "GstJPaul Hub Loaded!\nComplete verification to access features."
    notifText.TextColor3 = Color3.fromRGB(0, 255, 136)
    notifText.TextScaled = true
    notifText.Font = Enum.Font.Gotham
    notifText.Parent = notif
    
    -- Auto-hide notification
    wait(3)
    notif:Destroy()
end

-- Show notification
spawn(createNotification)

print("GstJPaul Hub loaded successfully!")
print("Creator: SubToGstJPaul")
print("Follow: https://www.roblox.com/users/2424638842/profile")
print("Group: https://www.roblox.com/communities/35546246/GstJPaul-Fans#!/about")
